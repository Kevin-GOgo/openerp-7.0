<?xml version="1.0" encoding="UTF-8"?>
<openerp>
<data>

<!-- updated by Alex 2014-08-15 we disable the workflow this module does -->
<!-- because according to Julien, he wanna so to be set done as long as the first move finished -->
<record id="sale_stock.trans_ship_end_done" model="workflow.transition">
    <field name="act_from" ref="sale_stock.act_ship_end"/>
    <field name="act_to" ref="sale.act_done"/>
    <field name="condition">check_invoice_picking_done()</field>
</record>

<record id="sale_stock.trans_ship_ship_end" model="workflow.transition">
    <field name="act_from" ref="sale_stock.act_ship"/>
    <field name="act_to" ref="sale_stock.act_ship_end"/>
    <field name="trigger_model">procurement.order</field>
    <field name="trigger_expr_id">procurement_lines_get()</field>
    <field name="condition">test_state('finished') and check_invoice_picking_done()</field>
</record>
        
</data>
</openerp>
